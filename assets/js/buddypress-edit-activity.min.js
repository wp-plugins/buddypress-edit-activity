function buddypress_edit_activity_initiate(t){return jQuery(t).hasClass("action-save")?buddypress_edit_activity_save(t):buddypress_edit_activity_get(t),!1}function buddypress_edit_activity_get(t){$link=jQuery(t),$form=jQuery("#frm_buddypress-edit-activity"),$form_wrapper=$form.parent(),$link.addClass("loading"),B_E_A_.current_activity_org=$link.hasClass("buddyboss_edit_activity_comment")?$link.closest("[id^=acomment]").find(" > .acomment-content").html():$link.closest(".activity-content").find(".activity-inner").html();var i={action:$form.find('input[name="action_get"]').val(),buddypress_edit_activity_nonce:$form.find('input[name="buddypress_edit_activity_nonce"]').val(),activity_id:$link.data("activity_id")};jQuery.ajax({type:"POST",url:ajaxurl,data:i,success:function(t){if(t=jQuery.parseJSON(t),t.status){$link.removeClass("loading").addClass("action-save").html(B_E_A_.button_text.save);var e=jQuery("<a href='#'>").addClass("bp-secondary-action buddyboss_edit_activity_cancel").html(B_E_A_.button_text.cancel);$link.before(e),e.attr("onclick","return buddypress_edit_activity_cancel(this);"),e.data("target_type","activity"),$link.hasClass("buddyboss_edit_activity_comment")?($link.closest("[id^=acomment]").find(" > .acomment-content").html("").hide().after($form_wrapper),e.data("target_type","comment")):($link.closest(".activity-content").find(".activity-inner").html("").hide().after($form_wrapper),e.addClass("button")),$form_wrapper.show(),$form.find('input[name="activity_id"]').val(i.activity_id),$form.find("textarea").val(t.content)}}})}function buddypress_edit_activity_save(t){$link=jQuery(t),$form=jQuery("#frm_buddypress-edit-activity"),$form_wrapper=$form.parent(),$link.addClass("loading"),jQuery(".buddyboss_edit_activity_cancel").remove();var i={action:$form.find('input[name="action_save"]').val(),buddypress_edit_activity_nonce:$form.find('input[name="buddypress_edit_activity_nonce"]').val(),activity_id:$link.data("activity_id"),content:$form.find("textarea").val()};jQuery.ajax({type:"POST",url:ajaxurl,data:i,success:function(t){t=jQuery.parseJSON(t),t.status&&($link.removeClass("loading").removeClass("action-save").html(B_E_A_.button_text.edit),$link.hasClass("buddyboss_edit_activity_comment")?$link.closest("[id^=acomment]").find(" > .acomment-content").html(t.content).show():$link.closest(".activity-content").find(".activity-inner").html(t.content).show(),$form_wrapper.hide(),jQuery("body").append($form_wrapper))}})}function buddypress_edit_activity_cancel(t){var i=jQuery(t),e=jQuery("#frm_buddypress-edit-activity"),a=e.parent(),n="";return"comment"==i.data("target_type")?(i.closest("[id^=acomment]").find(" > .acomment-content").html(B_E_A_.current_activity_org).show(),n=i.closest("[id^=acomment]").find(".buddyboss_edit_activity_comment.action-save")):(i.closest(".activity-content").find(".activity-inner").html(B_E_A_.current_activity_org).show(),n=i.closest(".activity-content").find(".buddyboss_edit_activity.action-save")),n.removeClass("action-save").html(B_E_A_.button_text.edit),a.hide(),jQuery("body").append(a),i.remove(),!1}